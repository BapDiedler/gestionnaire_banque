{"ast":null,"code":"var _jsxFileName = \"/app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { usePlaidLink } from 'react-plaid-link';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { CSVLink } from 'react-csv';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MOCK_MODE = process.env.REACT_APP_MOCK_MODE === 'true';\nconst COLORS = ['#4e79a7', '#f28e2b', '#e15759', '#76b7b2', '#59a14f', '#edc949'];\nfunction App() {\n  _s();\n  const [linkToken, setLinkToken] = useState(null);\n  const [jwt, setJwt] = useState(localStorage.getItem(\"jwt\"));\n  const [transactions, setTransactions] = useState([]);\n  const [expandedTx, setExpandedTx] = useState(null);\n  const [filterMonth, setFilterMonth] = useState('all');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterSearch, setFilterSearch] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Plaid link token\n  useEffect(() => {\n    if (!MOCK_MODE) {\n      fetch('http://localhost:3001/api/create_link_token', {\n        method: 'POST'\n      }).then(res => res.json()).then(data => setLinkToken(data.link_token)).catch(err => console.error('Erreur link token:', err));\n    }\n  }, []); // Se déclenche seulement au premier rendu\n\n  const {\n    open,\n    ready\n  } = usePlaidLink({\n    token: linkToken,\n    onSuccess: async public_token => {\n      const res = await fetch(\"http://localhost:3001/api/exchange_public_token\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          public_token\n        })\n      });\n      const data = await res.json();\n\n      // On reçoit maintenant uniquement un JWT sécurisé\n      localStorage.setItem(\"jwt\", data.jwt); // Stockage côté frontend\n      setAccessToken(data.jwt); // On l’utilise pour les requêtes\n    }\n  });\n  const logout = () => {\n    setAccessToken(null);\n    setTransactions([]);\n    localStorage.removeItem('jwt');\n  };\n  const loadTransactions = async () => {\n    // Récupérer le JWT stocké côté frontend\n    const jwt = localStorage.getItem(\"jwt\");\n    if (!jwt) return alert(\"Veuillez vous reconnecter\");\n    const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n    const res = await fetch(`${API_URL}/api/transactions`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    });\n    if (!res.ok) {\n      alert(\"Erreur : impossible de récupérer les transactions\");\n      return;\n    }\n    const data = await res.json();\n    setTransactions(data);\n  };\n  const filteredTransactions = transactions.filter(tx => {\n    if (filterMonth !== 'all') {\n      var _tx$date;\n      const txMonth = (_tx$date = tx.date) === null || _tx$date === void 0 ? void 0 : _tx$date.slice(0, 7);\n      if (txMonth !== filterMonth) return false;\n    }\n    if (filterCategory !== 'all') {\n      var _tx$category;\n      if (!((_tx$category = tx.category) !== null && _tx$category !== void 0 && _tx$category.includes(filterCategory))) return false;\n    }\n    if (filterSearch) {\n      var _tx$name, _tx$description;\n      const text = filterSearch.toLowerCase();\n      if (!((_tx$name = tx.name) !== null && _tx$name !== void 0 && _tx$name.toLowerCase().includes(text) || (_tx$description = tx.description) !== null && _tx$description !== void 0 && _tx$description.toLowerCase().includes(text))) return false;\n    }\n    if (filterStart && tx.date < filterStart) return false;\n    if (filterEnd && tx.date > filterEnd) return false;\n    return true;\n  });\n\n  // Dashboard summary\n  const totalExpenses = filteredTransactions.filter(tx => tx.amount < 0).reduce((sum, tx) => sum + Math.abs(tx.amount), 0);\n  const totalIncome = filteredTransactions.filter(tx => tx.amount > 0).reduce((sum, tx) => sum + tx.amount, 0);\n  const balance = totalIncome - totalExpenses;\n\n  // Graph data\n  const barData = filteredTransactions.reduce((acc, tx) => {\n    var _tx$date2;\n    const date = ((_tx$date2 = tx.date) === null || _tx$date2 === void 0 ? void 0 : _tx$date2.slice(0, 7)) || 'Autres';\n    const existing = acc.find(d => d.date === date);\n    if (existing) existing.amount += tx.amount;else acc.push({\n      date,\n      amount: tx.amount\n    });\n    return acc;\n  }, []);\n  const categoryData = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).map(cat => {\n    const sum = filteredTransactions.filter(tx => {\n      var _tx$category2;\n      return (_tx$category2 = tx.category) === null || _tx$category2 === void 0 ? void 0 : _tx$category2.includes(cat);\n    }).reduce((s, tx) => s + Math.abs(tx.amount), 0);\n    return {\n      name: cat,\n      value: sum\n    };\n  });\n\n  // Months for filter\n  const months = Array.from(new Set(transactions.map(tx => {\n    var _tx$date3;\n    return (_tx$date3 = tx.date) === null || _tx$date3 === void 0 ? void 0 : _tx$date3.slice(0, 7);\n  }))).filter(Boolean);\n\n  // Categories for filter\n  const categories = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).filter(Boolean);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${darkMode ? 'dark' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Assistant Financier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [!accessToken && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: !ready && !MOCK_MODE,\n        onClick: () => {\n          if (MOCK_MODE) {\n            setAccessToken('mock-access-token');\n            localStorage.setItem('accessToken', 'mock-access-token');\n          } else if (ready) open();\n        },\n        children: \"Connecter ma banque\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), accessToken && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: loadTransactions,\n          children: \"Voir mes transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: logout,\n          children: \"D\\xE9connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => setDarkMode(!darkMode),\n        children: darkMode ? 'Mode Clair' : 'Mode Sombre'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), accessToken && transactions.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Rechercher...\",\n          value: filterSearch,\n          onChange: e => setFilterSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterMonth,\n          onChange: e => setFilterMonth(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Tous les mois\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this), months.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: m,\n            children: m\n          }, m, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 32\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterCategory,\n          onChange: e => setFilterCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Toutes cat\\xE9gories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c,\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 36\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: filterStart,\n          onChange: e => setFilterStart(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: filterEnd,\n          onChange: e => setFilterEnd(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Solde: \", balance.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"D\\xE9penses: \", totalExpenses.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Revenus: \", totalIncome.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CSVLink, {\n          data: filteredTransactions,\n          filename: \"transactions.csv\",\n          className: \"btn btn-secondary\",\n          children: \"Exporter CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"transactions-list\",\n        children: filteredTransactions.map(tx => {\n          var _tx$category3;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `transaction-card ${expandedTx === tx.transaction_id ? 'expanded' : ''}`,\n            onClick: () => setExpandedTx(expandedTx === tx.transaction_id ? null : tx.transaction_id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `transaction-summary ${tx.amount > 0 ? 'positive' : 'negative'}`,\n              children: [tx.name, \" \\u2013 \", tx.amount.toFixed(2), \"\\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), expandedTx === tx.transaction_id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"transaction-details-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Date: \", tx.date || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Cat\\xE9gorie: \", ((_tx$category3 = tx.category) === null || _tx$category3 === void 0 ? void 0 : _tx$category3.join(', ')) || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Institution: \", tx.institution_name || 'Sandbox Bank']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Description: \", tx.description || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this)]\n          }, tx.transaction_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Transactions par mois\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 250,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: barData,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"amount\",\n              fill: \"#4e79a7\",\n              animationDuration: 500\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"R\\xE9partition par cat\\xE9gorie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 250,\n          children: /*#__PURE__*/_jsxDEV(PieChart, {\n            children: [/*#__PURE__*/_jsxDEV(Pie, {\n              data: categoryData,\n              dataKey: \"value\",\n              nameKey: \"name\",\n              outerRadius: 80,\n              fill: \"#8884d8\",\n              label: true,\n              children: categoryData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                fill: COLORS[index % COLORS.length]\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 55\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"0yxzkcDhq/iAW0Crxv/26LNOEio=\", false, function () {\n  return [usePlaidLink];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","usePlaidLink","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","CSVLink","jsxDEV","_jsxDEV","Fragment","_Fragment","MOCK_MODE","process","env","REACT_APP_MOCK_MODE","COLORS","App","_s","linkToken","setLinkToken","jwt","setJwt","localStorage","getItem","transactions","setTransactions","expandedTx","setExpandedTx","filterMonth","setFilterMonth","filterCategory","setFilterCategory","filterSearch","setFilterSearch","filterStart","setFilterStart","filterEnd","setFilterEnd","darkMode","setDarkMode","fetch","method","then","res","json","data","link_token","catch","err","console","error","open","ready","token","onSuccess","public_token","headers","body","JSON","stringify","setItem","setAccessToken","logout","removeItem","loadTransactions","alert","API_URL","REACT_APP_API_URL","Authorization","ok","filteredTransactions","filter","tx","_tx$date","txMonth","date","slice","_tx$category","category","includes","_tx$name","_tx$description","text","toLowerCase","name","description","totalExpenses","amount","reduce","sum","Math","abs","totalIncome","balance","barData","acc","_tx$date2","existing","find","d","push","categoryData","Array","from","Set","flatMap","map","cat","_tx$category2","s","value","months","_tx$date3","Boolean","categories","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accessToken","disabled","onClick","length","type","placeholder","onChange","e","target","m","c","toFixed","filename","_tx$category3","transaction_id","join","institution_name","width","height","strokeDasharray","dataKey","fill","animationDuration","nameKey","outerRadius","label","entry","index","_c","$RefreshReg$"],"sources":["/app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { usePlaidLink } from 'react-plaid-link';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { CSVLink } from 'react-csv';\nimport './App.css';\n\nconst MOCK_MODE = process.env.REACT_APP_MOCK_MODE === 'true';\n\nconst COLORS = ['#4e79a7', '#f28e2b', '#e15759', '#76b7b2', '#59a14f', '#edc949'];\n\nfunction App() {\n  const [linkToken, setLinkToken] = useState(null);\nconst [jwt, setJwt] = useState(localStorage.getItem(\"jwt\"));\n  const [transactions, setTransactions] = useState([]);\n  const [expandedTx, setExpandedTx] = useState(null);\n  const [filterMonth, setFilterMonth] = useState('all');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterSearch, setFilterSearch] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Plaid link token\n  useEffect(() => {\n  if (!MOCK_MODE) {\n    fetch('http://localhost:3001/api/create_link_token', { method: 'POST' })\n      .then(res => res.json())\n      .then(data => setLinkToken(data.link_token))\n      .catch(err => console.error('Erreur link token:', err));\n  }\n}, []); // Se déclenche seulement au premier rendu\n\n\n  const { open, ready } = usePlaidLink({\n    token: linkToken,\n    onSuccess: async (public_token) => {\n      const res = await fetch(\"http://localhost:3001/api/exchange_public_token\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ public_token }),\n      });\n      const data = await res.json();\n\n      // On reçoit maintenant uniquement un JWT sécurisé\n      localStorage.setItem(\"jwt\", data.jwt); // Stockage côté frontend\n      setAccessToken(data.jwt); // On l’utilise pour les requêtes\n    },\n  });\n\n\n  const logout = () => {\n    setAccessToken(null);\n    setTransactions([]);\n    localStorage.removeItem('jwt');\n  };\n\n  const loadTransactions = async () => {\n    // Récupérer le JWT stocké côté frontend\n    const jwt = localStorage.getItem(\"jwt\");\n    if (!jwt) return alert(\"Veuillez vous reconnecter\");\n\n    const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n\n    const res = await fetch(`${API_URL}/api/transactions`, {\n      headers: { Authorization: `Bearer ${jwt}` },\n    });\n\n    if (!res.ok) {\n      alert(\"Erreur : impossible de récupérer les transactions\");\n      return;\n    }\n\n    const data = await res.json();\n    setTransactions(data);\n  };\n\n\n  const filteredTransactions = transactions.filter(tx => {\n    if (filterMonth !== 'all') {\n      const txMonth = tx.date?.slice(0, 7);\n      if (txMonth !== filterMonth) return false;\n    }\n    if (filterCategory !== 'all') {\n      if (!tx.category?.includes(filterCategory)) return false;\n    }\n    if (filterSearch) {\n      const text = filterSearch.toLowerCase();\n      if (!(tx.name?.toLowerCase().includes(text) || tx.description?.toLowerCase().includes(text))) return false;\n    }\n    if (filterStart && tx.date < filterStart) return false;\n    if (filterEnd && tx.date > filterEnd) return false;\n    return true;\n  });\n\n  // Dashboard summary\n  const totalExpenses = filteredTransactions.filter(tx => tx.amount < 0).reduce((sum, tx) => sum + Math.abs(tx.amount), 0);\n  const totalIncome = filteredTransactions.filter(tx => tx.amount > 0).reduce((sum, tx) => sum + tx.amount, 0);\n  const balance = totalIncome - totalExpenses;\n\n  // Graph data\n  const barData = filteredTransactions.reduce((acc, tx) => {\n    const date = tx.date?.slice(0, 7) || 'Autres';\n    const existing = acc.find(d => d.date === date);\n    if (existing) existing.amount += tx.amount;\n    else acc.push({ date, amount: tx.amount });\n    return acc;\n  }, []);\n\n  const categoryData = Array.from(new Set(transactions.flatMap(tx => tx.category || [])))\n    .map(cat => {\n      const sum = filteredTransactions.filter(tx => tx.category?.includes(cat)).reduce((s, tx) => s + Math.abs(tx.amount), 0);\n      return { name: cat, value: sum };\n    });\n\n  // Months for filter\n  const months = Array.from(new Set(transactions.map(tx => tx.date?.slice(0, 7)))).filter(Boolean);\n\n  // Categories for filter\n  const categories = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).filter(Boolean);\n\n  return (\n    <div className={`app-container ${darkMode ? 'dark' : ''}`}>\n      <h1 className=\"title\">Assistant Financier</h1>\n\n      <div className=\"button-group\">\n        {!accessToken &&\n          <button className=\"btn btn-primary\"\n            disabled={!ready && !MOCK_MODE}\n            onClick={() => { if (MOCK_MODE) { setAccessToken('mock-access-token'); localStorage.setItem('accessToken', 'mock-access-token') } else if (ready) open(); }}\n          >\n            Connecter ma banque\n          </button>\n        }\n        {accessToken &&\n          <>\n            <button className=\"btn btn-secondary\" onClick={loadTransactions}>Voir mes transactions</button>\n            <button className=\"btn btn-secondary\" onClick={logout}>Déconnexion</button>\n          </>\n        }\n        <button className=\"btn btn-secondary\" onClick={() => setDarkMode(!darkMode)}>\n          {darkMode ? 'Mode Clair' : 'Mode Sombre'}\n        </button>\n      </div>\n\n      {accessToken && transactions.length > 0 && (\n        <>\n          {/* Filtres */}\n          <div className=\"chart-filters\">\n            <input type=\"text\" placeholder=\"Rechercher...\" value={filterSearch} onChange={e => setFilterSearch(e.target.value)} />\n            <select value={filterMonth} onChange={e => setFilterMonth(e.target.value)}>\n              <option value=\"all\">Tous les mois</option>\n              {months.map(m => <option key={m} value={m}>{m}</option>)}\n            </select>\n            <select value={filterCategory} onChange={e => setFilterCategory(e.target.value)}>\n              <option value=\"all\">Toutes catégories</option>\n              {categories.map(c => <option key={c} value={c}>{c}</option>)}\n            </select>\n            <input type=\"date\" value={filterStart} onChange={e => setFilterStart(e.target.value)} />\n            <input type=\"date\" value={filterEnd} onChange={e => setFilterEnd(e.target.value)} />\n          </div>\n\n          {/* Dashboard résumé */}\n          <div className=\"dashboard-summary\">\n            <div>Solde: {balance.toFixed(2)}€</div>\n            <div>Dépenses: {totalExpenses.toFixed(2)}€</div>\n            <div>Revenus: {totalIncome.toFixed(2)}€</div>\n            <CSVLink data={filteredTransactions} filename=\"transactions.csv\" className=\"btn btn-secondary\">Exporter CSV</CSVLink>\n          </div>\n\n          {/* Transactions */}\n          <ul className=\"transactions-list\">\n            {filteredTransactions.map(tx => (\n              <li key={tx.transaction_id} className={`transaction-card ${expandedTx === tx.transaction_id ? 'expanded' : ''}`}\n                onClick={() => setExpandedTx(expandedTx === tx.transaction_id ? null : tx.transaction_id)}>\n                <div className={`transaction-summary ${tx.amount > 0 ? 'positive' : 'negative'}`}>\n                  {tx.name} – {tx.amount.toFixed(2)}€\n                </div>\n                {expandedTx === tx.transaction_id && (\n                  <div className=\"transaction-details-inline\">\n                    <div>Date: {tx.date || 'N/A'}</div>\n                    <div>Catégorie: {tx.category?.join(', ') || 'N/A'}</div>\n                    <div>Institution: {tx.institution_name || 'Sandbox Bank'}</div>\n                    <div>Description: {tx.description || 'N/A'}</div>\n                  </div>\n                )}\n              </li>\n            ))}\n          </ul>\n\n          {/* Graphiques */}\n          <div className=\"chart-wrapper\">\n            <h2>Transactions par mois</h2>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <BarChart data={barData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Bar dataKey=\"amount\" fill=\"#4e79a7\" animationDuration={500} />\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n\n          <div className=\"chart-wrapper\">\n            <h2>Répartition par catégorie</h2>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <PieChart>\n                <Pie data={categoryData} dataKey=\"value\" nameKey=\"name\" outerRadius={80} fill=\"#8884d8\" label>\n                  {categoryData.map((entry, index) => <Cell key={index} fill={COLORS[index % COLORS.length]} />)}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n          </div>\n\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}