{"ast":null,"code":"var _jsxFileName = \"/app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { usePlaidLink } from 'react-plaid-link';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { CSVLink } from 'react-csv';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MOCK_MODE = process.env.REACT_APP_MOCK_MODE === 'true';\nconst COLORS = ['#4e79a7', '#f28e2b', '#e15759', '#76b7b2', '#59a14f', '#edc949'];\nconst BUDGETS = {\n  Food: 300,\n  Transport: 150,\n  Entertainment: 100\n};\nfunction App() {\n  _s();\n  const [linkToken, setLinkToken] = useState(null);\n  const [jwt, setJwt] = useState(localStorage.getItem(\"jwt\"));\n  const [transactions, setTransactions] = useState([]);\n  const [expandedTx, setExpandedTx] = useState(null);\n  const [filterMonth, setFilterMonth] = useState('all');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterSearch, setFilterSearch] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Plaid link token\n  useEffect(() => {\n    if (!MOCK_MODE) {\n      fetch('http://localhost:3001/api/create_link_token', {\n        method: 'POST'\n      }).then(res => res.json()).then(data => setLinkToken(data.link_token)).catch(err => console.error('Erreur link token:', err));\n    }\n  }, []); // Se déclenche seulement au premier rendu\n\n  const {\n    open,\n    ready\n  } = usePlaidLink({\n    token: linkToken,\n    onSuccess: async public_token => {\n      const res = await fetch(\"http://localhost:3001/api/exchange_public_token\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          public_token\n        })\n      });\n      const data = await res.json();\n\n      // On reçoit maintenant uniquement un JWT sécurisé\n      localStorage.setItem(\"jwt\", data.jwt); // Stockage côté frontend\n      setJwt(data.jwt); // On l’utilise pour les requêtes\n    }\n  });\n  const logout = () => {\n    setJwt(null);\n    setTransactions([]);\n    localStorage.removeItem('jwt');\n  };\n  const loadTransactions = async () => {\n    // Récupérer le JWT stocké côté frontend\n    const jwt = localStorage.getItem(\"jwt\");\n    if (!jwt) return alert(\"Veuillez vous reconnecter\");\n    const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n    const res = await fetch(`${API_URL}/api/transactions`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    });\n    if (!res.ok) {\n      alert(\"Erreur : impossible de récupérer les transactions\");\n      return;\n    }\n    const data = await res.json();\n    setTransactions(data);\n  };\n  const filteredTransactions = transactions.filter(tx => {\n    if (filterMonth !== 'all') {\n      var _tx$date;\n      const txMonth = (_tx$date = tx.date) === null || _tx$date === void 0 ? void 0 : _tx$date.slice(0, 7);\n      if (txMonth !== filterMonth) return false;\n    }\n    if (filterCategory !== 'all') {\n      var _tx$category;\n      if (!((_tx$category = tx.category) !== null && _tx$category !== void 0 && _tx$category.includes(filterCategory))) return false;\n    }\n    if (filterSearch) {\n      var _tx$name, _tx$description;\n      const text = filterSearch.toLowerCase();\n      if (!((_tx$name = tx.name) !== null && _tx$name !== void 0 && _tx$name.toLowerCase().includes(text) || (_tx$description = tx.description) !== null && _tx$description !== void 0 && _tx$description.toLowerCase().includes(text))) return false;\n    }\n    if (filterStart && tx.date < filterStart) return false;\n    if (filterEnd && tx.date > filterEnd) return false;\n    return true;\n  });\n  const budgetStatus = Object.entries(BUDGETS).map(([cat, limit]) => {\n    const spent = filteredTransactions.filter(tx => {\n      var _tx$category2;\n      return (_tx$category2 = tx.category) === null || _tx$category2 === void 0 ? void 0 : _tx$category2.includes(cat);\n    }).reduce((s, tx) => s + Math.abs(tx.amount), 0);\n    return {\n      cat,\n      spent,\n      limit\n    };\n  });\n\n  // Dashboard summary\n  const totalExpenses = filteredTransactions.filter(tx => tx.amount < 0).reduce((sum, tx) => sum + Math.abs(tx.amount), 0);\n  const totalIncome = filteredTransactions.filter(tx => tx.amount > 0).reduce((sum, tx) => sum + tx.amount, 0);\n  const balance = totalIncome - totalExpenses;\n\n  // Graph data\n  const barData = filteredTransactions.reduce((acc, tx) => {\n    var _tx$date2;\n    const date = ((_tx$date2 = tx.date) === null || _tx$date2 === void 0 ? void 0 : _tx$date2.slice(0, 7)) || 'Autres';\n    const existing = acc.find(d => d.date === date);\n    if (existing) existing.amount += tx.amount;else acc.push({\n      date,\n      amount: tx.amount\n    });\n    return acc;\n  }, []);\n  const categoryData = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).map(cat => {\n    const sum = filteredTransactions.filter(tx => {\n      var _tx$category3;\n      return (_tx$category3 = tx.category) === null || _tx$category3 === void 0 ? void 0 : _tx$category3.includes(cat);\n    }).reduce((s, tx) => s + Math.abs(tx.amount), 0);\n    return {\n      name: cat,\n      value: sum\n    };\n  });\n\n  // Months for filter\n  const months = Array.from(new Set(transactions.map(tx => {\n    var _tx$date3;\n    return (_tx$date3 = tx.date) === null || _tx$date3 === void 0 ? void 0 : _tx$date3.slice(0, 7);\n  }))).filter(Boolean);\n\n  // Categories for filter\n  const categories = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).filter(Boolean);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${darkMode ? 'dark' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Assistant Financier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [!jwt && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: !ready && !MOCK_MODE,\n        onClick: () => {\n          if (MOCK_MODE) {\n            setJwt('mock-access-token');\n            localStorage.setItem('jwt', 'mock-access-token');\n          } else if (ready) open();\n        },\n        children: \"Connecter ma banque\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this), jwt && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: loadTransactions,\n          children: \"Voir mes transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: logout,\n          children: \"D\\xE9connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => setDarkMode(!darkMode),\n        children: darkMode ? 'Mode Clair' : 'Mode Sombre'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), jwt && transactions.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Rechercher...\",\n          value: filterSearch,\n          onChange: e => setFilterSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterMonth,\n          onChange: e => setFilterMonth(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Tous les mois\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), months.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: m,\n            children: m\n          }, m, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 32\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterCategory,\n          onChange: e => setFilterCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Toutes cat\\xE9gories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c,\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 36\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: filterStart,\n          onChange: e => setFilterStart(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: filterEnd,\n          onChange: e => setFilterEnd(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Solde: \", balance.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"D\\xE9penses: \", totalExpenses.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Revenus: \", totalIncome.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CSVLink, {\n          data: filteredTransactions,\n          filename: \"transactions.csv\",\n          className: \"btn btn-secondary\",\n          children: \"Exporter CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"transactions-list\",\n        children: filteredTransactions.map(tx => {\n          var _tx$category4;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `transaction-card ${expandedTx === tx.transaction_id ? 'expanded' : ''}`,\n            onClick: () => setExpandedTx(expandedTx === tx.transaction_id ? null : tx.transaction_id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `transaction-summary ${tx.amount > 0 ? 'positive' : 'negative'}`,\n              children: [tx.name, \" \\u2013 \", tx.amount.toFixed(2), \"\\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), expandedTx === tx.transaction_id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"transaction-details-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Date: \", tx.date || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Cat\\xE9gorie: \", ((_tx$category4 = tx.category) === null || _tx$category4 === void 0 ? void 0 : _tx$category4.join(', ')) || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Institution: \", tx.institution_name || 'Sandbox Bank']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Description: \", tx.description || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this)]\n          }, tx.transaction_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Transactions par mois\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 250,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: barData,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"amount\",\n              fill: \"#4e79a7\",\n              animationDuration: 500\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"R\\xE9partition par cat\\xE9gorie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 250,\n          children: /*#__PURE__*/_jsxDEV(PieChart, {\n            children: [/*#__PURE__*/_jsxDEV(Pie, {\n              data: categoryData,\n              dataKey: \"value\",\n              nameKey: \"name\",\n              outerRadius: 80,\n              fill: \"#8884d8\",\n              label: true,\n              children: categoryData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                fill: COLORS[index % COLORS.length]\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 55\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"0yxzkcDhq/iAW0Crxv/26LNOEio=\", false, function () {\n  return [usePlaidLink];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","usePlaidLink","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","CSVLink","jsxDEV","_jsxDEV","Fragment","_Fragment","MOCK_MODE","process","env","REACT_APP_MOCK_MODE","COLORS","BUDGETS","Food","Transport","Entertainment","App","_s","linkToken","setLinkToken","jwt","setJwt","localStorage","getItem","transactions","setTransactions","expandedTx","setExpandedTx","filterMonth","setFilterMonth","filterCategory","setFilterCategory","filterSearch","setFilterSearch","filterStart","setFilterStart","filterEnd","setFilterEnd","darkMode","setDarkMode","fetch","method","then","res","json","data","link_token","catch","err","console","error","open","ready","token","onSuccess","public_token","headers","body","JSON","stringify","setItem","logout","removeItem","loadTransactions","alert","API_URL","REACT_APP_API_URL","Authorization","ok","filteredTransactions","filter","tx","_tx$date","txMonth","date","slice","_tx$category","category","includes","_tx$name","_tx$description","text","toLowerCase","name","description","budgetStatus","Object","entries","map","cat","limit","spent","_tx$category2","reduce","s","Math","abs","amount","totalExpenses","sum","totalIncome","balance","barData","acc","_tx$date2","existing","find","d","push","categoryData","Array","from","Set","flatMap","_tx$category3","value","months","_tx$date3","Boolean","categories","className","children","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onClick","length","type","placeholder","onChange","e","target","m","c","toFixed","filename","_tx$category4","transaction_id","join","institution_name","width","height","strokeDasharray","dataKey","fill","animationDuration","nameKey","outerRadius","label","entry","index","_c","$RefreshReg$"],"sources":["/app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { usePlaidLink } from 'react-plaid-link';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { CSVLink } from 'react-csv';\nimport './App.css';\n\nconst MOCK_MODE = process.env.REACT_APP_MOCK_MODE === 'true';\n\nconst COLORS = ['#4e79a7', '#f28e2b', '#e15759', '#76b7b2', '#59a14f', '#edc949'];\n\nconst BUDGETS = {\n  Food: 300,\n  Transport: 150,\n  Entertainment: 100,\n};\n\n\nfunction App() {\n  const [linkToken, setLinkToken] = useState(null);\n  const [jwt, setJwt] = useState(localStorage.getItem(\"jwt\"));\n  const [transactions, setTransactions] = useState([]);\n  const [expandedTx, setExpandedTx] = useState(null);\n  const [filterMonth, setFilterMonth] = useState('all');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterSearch, setFilterSearch] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Plaid link token\n  useEffect(() => {\n  if (!MOCK_MODE) {\n    fetch('http://localhost:3001/api/create_link_token', { method: 'POST' })\n      .then(res => res.json())\n      .then(data => setLinkToken(data.link_token))\n      .catch(err => console.error('Erreur link token:', err));\n  }\n}, []); // Se déclenche seulement au premier rendu\n\n\n  const { open, ready } = usePlaidLink({\n    token: linkToken,\n    onSuccess: async (public_token) => {\n      const res = await fetch(\"http://localhost:3001/api/exchange_public_token\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ public_token }),\n      });\n      const data = await res.json();\n\n      // On reçoit maintenant uniquement un JWT sécurisé\n      localStorage.setItem(\"jwt\", data.jwt); // Stockage côté frontend\n      setJwt(data.jwt); // On l’utilise pour les requêtes\n    },\n  });\n\n\n  const logout = () => {\n    setJwt(null);\n    setTransactions([]);\n    localStorage.removeItem('jwt');\n  };\n\n  const loadTransactions = async () => {\n    // Récupérer le JWT stocké côté frontend\n    const jwt = localStorage.getItem(\"jwt\");\n    if (!jwt) return alert(\"Veuillez vous reconnecter\");\n\n    const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n\n    const res = await fetch(`${API_URL}/api/transactions`, {\n      headers: { Authorization: `Bearer ${jwt}` },\n    });\n\n    if (!res.ok) {\n      alert(\"Erreur : impossible de récupérer les transactions\");\n      return;\n    }\n\n    const data = await res.json();\n    setTransactions(data);\n  };\n\n\n  const filteredTransactions = transactions.filter(tx => {\n    if (filterMonth !== 'all') {\n      const txMonth = tx.date?.slice(0, 7);\n      if (txMonth !== filterMonth) return false;\n    }\n    if (filterCategory !== 'all') {\n      if (!tx.category?.includes(filterCategory)) return false;\n    }\n    if (filterSearch) {\n      const text = filterSearch.toLowerCase();\n      if (!(tx.name?.toLowerCase().includes(text) || tx.description?.toLowerCase().includes(text))) return false;\n    }\n    if (filterStart && tx.date < filterStart) return false;\n    if (filterEnd && tx.date > filterEnd) return false;\n    return true;\n  });\n\n  const budgetStatus = Object.entries(BUDGETS).map(([cat, limit]) => {\n  const spent = filteredTransactions\n    .filter(tx => tx.category?.includes(cat))\n    .reduce((s, tx) => s + Math.abs(tx.amount), 0);\n\n  return { cat, spent, limit };\n});\n\n\n  // Dashboard summary\n  const totalExpenses = filteredTransactions.filter(tx => tx.amount < 0).reduce((sum, tx) => sum + Math.abs(tx.amount), 0);\n  const totalIncome = filteredTransactions.filter(tx => tx.amount > 0).reduce((sum, tx) => sum + tx.amount, 0);\n  const balance = totalIncome - totalExpenses;\n\n  // Graph data\n  const barData = filteredTransactions.reduce((acc, tx) => {\n    const date = tx.date?.slice(0, 7) || 'Autres';\n    const existing = acc.find(d => d.date === date);\n    if (existing) existing.amount += tx.amount;\n    else acc.push({ date, amount: tx.amount });\n    return acc;\n  }, []);\n\n  const categoryData = Array.from(new Set(transactions.flatMap(tx => tx.category || [])))\n    .map(cat => {\n      const sum = filteredTransactions.filter(tx => tx.category?.includes(cat)).reduce((s, tx) => s + Math.abs(tx.amount), 0);\n      return { name: cat, value: sum };\n    });\n\n  // Months for filter\n  const months = Array.from(new Set(transactions.map(tx => tx.date?.slice(0, 7)))).filter(Boolean);\n\n  // Categories for filter\n  const categories = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).filter(Boolean);\n\n  return (\n    <div className={`app-container ${darkMode ? 'dark' : ''}`}>\n      <h1 className=\"title\">Assistant Financier</h1>\n\n      <div className=\"button-group\">\n        {!jwt &&\n          <button className=\"btn btn-primary\"\n            disabled={!ready && !MOCK_MODE}\n            onClick={() => { if (MOCK_MODE) { setJwt('mock-access-token'); localStorage.setItem('jwt', 'mock-access-token') } else if (ready) open(); }}\n          >\n            Connecter ma banque\n          </button>\n        }\n        {jwt &&\n          <>\n            <button className=\"btn btn-secondary\" onClick={loadTransactions}>Voir mes transactions</button>\n            <button className=\"btn btn-secondary\" onClick={logout}>Déconnexion</button>\n          </>\n        }\n        <button className=\"btn btn-secondary\" onClick={() => setDarkMode(!darkMode)}>\n          {darkMode ? 'Mode Clair' : 'Mode Sombre'}\n        </button>\n      </div>\n\n      {jwt && transactions.length > 0 && (\n        <>\n          {/* Filtres */}\n          <div className=\"chart-filters\">\n            <input type=\"text\" placeholder=\"Rechercher...\" value={filterSearch} onChange={e => setFilterSearch(e.target.value)} />\n            <select value={filterMonth} onChange={e => setFilterMonth(e.target.value)}>\n              <option value=\"all\">Tous les mois</option>\n              {months.map(m => <option key={m} value={m}>{m}</option>)}\n            </select>\n            <select value={filterCategory} onChange={e => setFilterCategory(e.target.value)}>\n              <option value=\"all\">Toutes catégories</option>\n              {categories.map(c => <option key={c} value={c}>{c}</option>)}\n            </select>\n            <input type=\"date\" value={filterStart} onChange={e => setFilterStart(e.target.value)} />\n            <input type=\"date\" value={filterEnd} onChange={e => setFilterEnd(e.target.value)} />\n          </div>\n\n          {/* Dashboard résumé */}\n          <div className=\"dashboard-summary\">\n            <div>Solde: {balance.toFixed(2)}€</div>\n            <div>Dépenses: {totalExpenses.toFixed(2)}€</div>\n            <div>Revenus: {totalIncome.toFixed(2)}€</div>\n            <CSVLink data={filteredTransactions} filename=\"transactions.csv\" className=\"btn btn-secondary\">Exporter CSV</CSVLink>\n          </div>\n\n          {/* Transactions */}\n          <ul className=\"transactions-list\">\n            {filteredTransactions.map(tx => (\n              <li key={tx.transaction_id} className={`transaction-card ${expandedTx === tx.transaction_id ? 'expanded' : ''}`}\n                onClick={() => setExpandedTx(expandedTx === tx.transaction_id ? null : tx.transaction_id)}>\n                <div className={`transaction-summary ${tx.amount > 0 ? 'positive' : 'negative'}`}>\n                  {tx.name} – {tx.amount.toFixed(2)}€\n                </div>\n                {expandedTx === tx.transaction_id && (\n                  <div className=\"transaction-details-inline\">\n                    <div>Date: {tx.date || 'N/A'}</div>\n                    <div>Catégorie: {tx.category?.join(', ') || 'N/A'}</div>\n                    <div>Institution: {tx.institution_name || 'Sandbox Bank'}</div>\n                    <div>Description: {tx.description || 'N/A'}</div>\n                  </div>\n                )}\n              </li>\n            ))}\n          </ul>\n\n          {/* Graphiques */}\n          <div className=\"chart-wrapper\">\n            <h2>Transactions par mois</h2>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <BarChart data={barData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Bar dataKey=\"amount\" fill=\"#4e79a7\" animationDuration={500} />\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n\n          <div className=\"chart-wrapper\">\n            <h2>Répartition par catégorie</h2>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <PieChart>\n                <Pie data={categoryData} dataKey=\"value\" nameKey=\"name\" outerRadius={80} fill=\"#8884d8\" label>\n                  {categoryData.map((entry, index) => <Cell key={index} fill={COLORS[index % COLORS.length]} />)}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n          </div>\n\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}