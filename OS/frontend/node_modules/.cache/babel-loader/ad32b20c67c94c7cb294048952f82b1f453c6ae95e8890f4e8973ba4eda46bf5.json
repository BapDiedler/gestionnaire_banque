{"ast":null,"code":"var _jsxFileName = \"/home/baptistedie/OS/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { usePlaidLink } from 'react-plaid-link';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { CSVLink } from 'react-csv';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MOCK_MODE = process.env.REACT_APP_MOCK_MODE === 'true';\nconst COLORS = ['#4e79a7', '#f28e2b', '#e15759', '#76b7b2', '#59a14f', '#edc949'];\nfunction App() {\n  _s();\n  const [linkToken, setLinkToken] = useState(null);\n  const [accessToken, setAccessToken] = useState(localStorage.getItem('accessToken') || null);\n  const [transactions, setTransactions] = useState([]);\n  const [expandedTx, setExpandedTx] = useState(null);\n  const [filterMonth, setFilterMonth] = useState('all');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterSearch, setFilterSearch] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Plaid link token\n  useEffect(() => {\n    if (!MOCK_MODE && !linkToken) {\n      fetch('http://localhost:3001/api/create_link_token', {\n        method: 'POST'\n      }).then(res => res.json()).then(data => setLinkToken(data.link_token));\n    }\n  }, [linkToken]);\n  const {\n    open,\n    ready\n  } = usePlaidLink({\n    token: MOCK_MODE ? 'mock-link-token' : linkToken,\n    onSuccess: async public_token => {\n      if (MOCK_MODE) {\n        const token = 'mock-access-token';\n        setAccessToken(token);\n        localStorage.setItem('accessToken', token);\n      } else {\n        const res = await fetch('http://localhost:3001/api/exchange_public_token', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            public_token\n          })\n        });\n        const data = await res.json();\n        setAccessToken(data.access_token);\n        localStorage.setItem('accessToken', data.access_token);\n      }\n    }\n  });\n  const logout = () => {\n    setAccessToken(null);\n    setTransactions([]);\n    localStorage.removeItem('accessToken');\n  };\n  const loadTransactions = async () => {\n    if (!accessToken) return;\n    const res = await fetch('http://localhost:3001/api/transactions', {\n      headers: {\n        Authorization: accessToken\n      }\n    });\n    const data = await res.json();\n    setTransactions(data);\n  };\n  const filteredTransactions = transactions.filter(tx => {\n    if (filterMonth !== 'all') {\n      var _tx$date;\n      const txMonth = (_tx$date = tx.date) === null || _tx$date === void 0 ? void 0 : _tx$date.slice(0, 7);\n      if (txMonth !== filterMonth) return false;\n    }\n    if (filterCategory !== 'all') {\n      var _tx$category;\n      if (!((_tx$category = tx.category) !== null && _tx$category !== void 0 && _tx$category.includes(filterCategory))) return false;\n    }\n    if (filterSearch) {\n      var _tx$name, _tx$description;\n      const text = filterSearch.toLowerCase();\n      if (!((_tx$name = tx.name) !== null && _tx$name !== void 0 && _tx$name.toLowerCase().includes(text) || (_tx$description = tx.description) !== null && _tx$description !== void 0 && _tx$description.toLowerCase().includes(text))) return false;\n    }\n    if (filterStart && tx.date < filterStart) return false;\n    if (filterEnd && tx.date > filterEnd) return false;\n    return true;\n  });\n\n  // Dashboard summary\n  const totalExpenses = filteredTransactions.filter(tx => tx.amount < 0).reduce((sum, tx) => sum + Math.abs(tx.amount), 0);\n  const totalIncome = filteredTransactions.filter(tx => tx.amount > 0).reduce((sum, tx) => sum + tx.amount, 0);\n  const balance = totalIncome - totalExpenses;\n\n  // Graph data\n  const barData = filteredTransactions.reduce((acc, tx) => {\n    var _tx$date2;\n    const date = ((_tx$date2 = tx.date) === null || _tx$date2 === void 0 ? void 0 : _tx$date2.slice(0, 7)) || 'Autres';\n    const existing = acc.find(d => d.date === date);\n    if (existing) existing.amount += tx.amount;else acc.push({\n      date,\n      amount: tx.amount\n    });\n    return acc;\n  }, []);\n  const categoryData = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).map(cat => {\n    const sum = filteredTransactions.filter(tx => {\n      var _tx$category2;\n      return (_tx$category2 = tx.category) === null || _tx$category2 === void 0 ? void 0 : _tx$category2.includes(cat);\n    }).reduce((s, tx) => s + Math.abs(tx.amount), 0);\n    return {\n      name: cat,\n      value: sum\n    };\n  });\n\n  // Months for filter\n  const months = Array.from(new Set(transactions.map(tx => {\n    var _tx$date3;\n    return (_tx$date3 = tx.date) === null || _tx$date3 === void 0 ? void 0 : _tx$date3.slice(0, 7);\n  }))).filter(Boolean);\n\n  // Categories for filter\n  const categories = Array.from(new Set(transactions.flatMap(tx => tx.category || []))).filter(Boolean);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${darkMode ? 'dark' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Assistant Financier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [!accessToken && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: !ready && !MOCK_MODE,\n        onClick: () => {\n          if (MOCK_MODE) {\n            setAccessToken('mock-access-token');\n            localStorage.setItem('accessToken', 'mock-access-token');\n          } else if (ready) open();\n        },\n        children: \"Connecter ma banque\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), accessToken && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: loadTransactions,\n          children: \"Voir mes transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: logout,\n          children: \"D\\xE9connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => setDarkMode(!darkMode),\n        children: darkMode ? 'Mode Clair' : 'Mode Sombre'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), accessToken && transactions.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Rechercher...\",\n          value: filterSearch,\n          onChange: e => setFilterSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterMonth,\n          onChange: e => setFilterMonth(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Tous les mois\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), months.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: m,\n            children: m\n          }, m, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 30\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterCategory,\n          onChange: e => setFilterCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Toutes cat\\xE9gories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c,\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 34\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: filterStart,\n          onChange: e => setFilterStart(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: filterEnd,\n          onChange: e => setFilterEnd(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Solde: \", balance.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"D\\xE9penses: \", totalExpenses.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Revenus: \", totalIncome.toFixed(2), \"\\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CSVLink, {\n          data: filteredTransactions,\n          filename: \"transactions.csv\",\n          className: \"btn btn-secondary\",\n          children: \"Exporter CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"transactions-list\",\n        children: filteredTransactions.map(tx => {\n          var _tx$category3;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `transaction-card ${expandedTx === tx.transaction_id ? 'expanded' : ''}`,\n            onClick: () => setExpandedTx(expandedTx === tx.transaction_id ? null : tx.transaction_id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `transaction-summary ${tx.amount > 0 ? 'positive' : 'negative'}`,\n              children: [tx.name, \" \\u2013 \", tx.amount.toFixed(2), \"\\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this), expandedTx === tx.transaction_id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"transaction-details-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Date: \", tx.date || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Cat\\xE9gorie: \", ((_tx$category3 = tx.category) === null || _tx$category3 === void 0 ? void 0 : _tx$category3.join(', ')) || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Institution: \", tx.institution_name || 'Sandbox Bank']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Description: \", tx.description || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this)]\n          }, tx.transaction_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Transactions par mois\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 250,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: barData,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"amount\",\n              fill: \"#4e79a7\",\n              animationDuration: 500\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"R\\xE9partition par cat\\xE9gorie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 250,\n          children: /*#__PURE__*/_jsxDEV(PieChart, {\n            children: [/*#__PURE__*/_jsxDEV(Pie, {\n              data: categoryData,\n              dataKey: \"value\",\n              nameKey: \"name\",\n              outerRadius: 80,\n              fill: \"#8884d8\",\n              label: true,\n              children: categoryData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                fill: COLORS[index % COLORS.length]\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 53\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Enl4vmGZ5DhRDImlMdhFv+Qi/KU=\", false, function () {\n  return [usePlaidLink];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","usePlaidLink","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","CSVLink","jsxDEV","_jsxDEV","Fragment","_Fragment","MOCK_MODE","process","env","REACT_APP_MOCK_MODE","COLORS","App","_s","linkToken","setLinkToken","accessToken","setAccessToken","localStorage","getItem","transactions","setTransactions","expandedTx","setExpandedTx","filterMonth","setFilterMonth","filterCategory","setFilterCategory","filterSearch","setFilterSearch","filterStart","setFilterStart","filterEnd","setFilterEnd","darkMode","setDarkMode","fetch","method","then","res","json","data","link_token","open","ready","token","onSuccess","public_token","setItem","headers","body","JSON","stringify","access_token","logout","removeItem","loadTransactions","Authorization","filteredTransactions","filter","tx","_tx$date","txMonth","date","slice","_tx$category","category","includes","_tx$name","_tx$description","text","toLowerCase","name","description","totalExpenses","amount","reduce","sum","Math","abs","totalIncome","balance","barData","acc","_tx$date2","existing","find","d","push","categoryData","Array","from","Set","flatMap","map","cat","_tx$category2","s","value","months","_tx$date3","Boolean","categories","className","children","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onClick","length","type","placeholder","onChange","e","target","m","c","toFixed","filename","_tx$category3","transaction_id","join","institution_name","width","height","strokeDasharray","dataKey","fill","animationDuration","nameKey","outerRadius","label","entry","index","_c","$RefreshReg$"],"sources":["/home/baptistedie/OS/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { usePlaidLink } from 'react-plaid-link';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { CSVLink } from 'react-csv';\nimport './App.css';\n\nconst MOCK_MODE = process.env.REACT_APP_MOCK_MODE === 'true';\n\nconst COLORS = ['#4e79a7', '#f28e2b', '#e15759', '#76b7b2', '#59a14f', '#edc949'];\n\nfunction App() {\n  const [linkToken, setLinkToken] = useState(null);\n  const [accessToken, setAccessToken] = useState(localStorage.getItem('accessToken') || null);\n  const [transactions, setTransactions] = useState([]);\n  const [expandedTx, setExpandedTx] = useState(null);\n  const [filterMonth, setFilterMonth] = useState('all');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterSearch, setFilterSearch] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Plaid link token\n  useEffect(() => {\n    if (!MOCK_MODE && !linkToken) {\n      fetch('http://localhost:3001/api/create_link_token', { method: 'POST' })\n        .then(res => res.json())\n        .then(data => setLinkToken(data.link_token));\n    }\n  }, [linkToken]);\n\n  const { open, ready } = usePlaidLink({\n    token: MOCK_MODE ? 'mock-link-token' : linkToken,\n    onSuccess: async (public_token) => {\n      if (MOCK_MODE) {\n        const token = 'mock-access-token';\n        setAccessToken(token);\n        localStorage.setItem('accessToken', token);\n      } else {\n        const res = await fetch('http://localhost:3001/api/exchange_public_token', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ public_token }),\n        });\n        const data = await res.json();\n        setAccessToken(data.access_token);\n        localStorage.setItem('accessToken', data.access_token);\n      }\n    },\n  });\n\n  const logout = () => {\n    setAccessToken(null);\n    setTransactions([]);\n    localStorage.removeItem('accessToken');\n  };\n\n  const loadTransactions = async () => {\n    if (!accessToken) return;\n    const res = await fetch('http://localhost:3001/api/transactions', {\n      headers: { Authorization: accessToken },\n    });\n    const data = await res.json();\n    setTransactions(data);\n  };\n\n  const filteredTransactions = transactions.filter(tx => {\n    if (filterMonth !== 'all') {\n      const txMonth = tx.date?.slice(0,7);\n      if (txMonth !== filterMonth) return false;\n    }\n    if (filterCategory !== 'all') {\n      if (!tx.category?.includes(filterCategory)) return false;\n    }\n    if (filterSearch) {\n      const text = filterSearch.toLowerCase();\n      if (!(tx.name?.toLowerCase().includes(text) || tx.description?.toLowerCase().includes(text))) return false;\n    }\n    if (filterStart && tx.date < filterStart) return false;\n    if (filterEnd && tx.date > filterEnd) return false;\n    return true;\n  });\n\n  // Dashboard summary\n  const totalExpenses = filteredTransactions.filter(tx => tx.amount < 0).reduce((sum, tx) => sum + Math.abs(tx.amount),0);\n  const totalIncome = filteredTransactions.filter(tx => tx.amount > 0).reduce((sum, tx) => sum + tx.amount,0);\n  const balance = totalIncome - totalExpenses;\n\n  // Graph data\n  const barData = filteredTransactions.reduce((acc, tx) => {\n    const date = tx.date?.slice(0,7) || 'Autres';\n    const existing = acc.find(d=>d.date===date);\n    if(existing) existing.amount += tx.amount;\n    else acc.push({date, amount: tx.amount});\n    return acc;\n  }, []);\n\n  const categoryData = Array.from(new Set(transactions.flatMap(tx=>tx.category||[])))\n    .map(cat=>{\n      const sum = filteredTransactions.filter(tx=>tx.category?.includes(cat)).reduce((s,tx)=>s+Math.abs(tx.amount),0);\n      return { name: cat, value: sum };\n    });\n\n  // Months for filter\n  const months = Array.from(new Set(transactions.map(tx => tx.date?.slice(0,7)))).filter(Boolean);\n\n  // Categories for filter\n  const categories = Array.from(new Set(transactions.flatMap(tx=>tx.category || []))).filter(Boolean);\n\n  return (\n    <div className={`app-container ${darkMode ? 'dark' : ''}`}>\n      <h1 className=\"title\">Assistant Financier</h1>\n\n      <div className=\"button-group\">\n        {!accessToken &&\n          <button className=\"btn btn-primary\"\n            disabled={!ready && !MOCK_MODE}\n            onClick={()=>{ if(MOCK_MODE) { setAccessToken('mock-access-token'); localStorage.setItem('accessToken','mock-access-token')} else if(ready) open(); }}\n          >\n            Connecter ma banque\n          </button>\n        }\n        {accessToken &&\n          <>\n            <button className=\"btn btn-secondary\" onClick={loadTransactions}>Voir mes transactions</button>\n            <button className=\"btn btn-secondary\" onClick={logout}>Déconnexion</button>\n          </>\n        }\n        <button className=\"btn btn-secondary\" onClick={()=>setDarkMode(!darkMode)}>\n          {darkMode ? 'Mode Clair' : 'Mode Sombre'}\n        </button>\n      </div>\n\n      {accessToken && transactions.length>0 && (\n        <>\n          {/* Filtres */}\n          <div className=\"chart-filters\">\n            <input type=\"text\" placeholder=\"Rechercher...\" value={filterSearch} onChange={e=>setFilterSearch(e.target.value)} />\n            <select value={filterMonth} onChange={e=>setFilterMonth(e.target.value)}>\n              <option value=\"all\">Tous les mois</option>\n              {months.map(m=><option key={m} value={m}>{m}</option>)}\n            </select>\n            <select value={filterCategory} onChange={e=>setFilterCategory(e.target.value)}>\n              <option value=\"all\">Toutes catégories</option>\n              {categories.map(c=><option key={c} value={c}>{c}</option>)}\n            </select>\n            <input type=\"date\" value={filterStart} onChange={e=>setFilterStart(e.target.value)} />\n            <input type=\"date\" value={filterEnd} onChange={e=>setFilterEnd(e.target.value)} />\n          </div>\n\n          {/* Dashboard résumé */}\n          <div className=\"dashboard-summary\">\n            <div>Solde: {balance.toFixed(2)}€</div>\n            <div>Dépenses: {totalExpenses.toFixed(2)}€</div>\n            <div>Revenus: {totalIncome.toFixed(2)}€</div>\n            <CSVLink data={filteredTransactions} filename=\"transactions.csv\" className=\"btn btn-secondary\">Exporter CSV</CSVLink>\n          </div>\n\n          {/* Transactions */}\n          <ul className=\"transactions-list\">\n            {filteredTransactions.map(tx=>(\n              <li key={tx.transaction_id} className={`transaction-card ${expandedTx===tx.transaction_id ? 'expanded' : ''}`}\n                  onClick={()=>setExpandedTx(expandedTx===tx.transaction_id?null:tx.transaction_id)}>\n                <div className={`transaction-summary ${tx.amount>0?'positive':'negative'}`}>\n                  {tx.name} – {tx.amount.toFixed(2)}€\n                </div>\n                {expandedTx===tx.transaction_id && (\n                  <div className=\"transaction-details-inline\">\n                    <div>Date: {tx.date || 'N/A'}</div>\n                    <div>Catégorie: {tx.category?.join(', ') || 'N/A'}</div>\n                    <div>Institution: {tx.institution_name || 'Sandbox Bank'}</div>\n                    <div>Description: {tx.description || 'N/A'}</div>\n                  </div>\n                )}\n              </li>\n            ))}\n          </ul>\n\n          {/* Graphiques */}\n          <div className=\"chart-wrapper\">\n            <h2>Transactions par mois</h2>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <BarChart data={barData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Bar dataKey=\"amount\" fill=\"#4e79a7\" animationDuration={500}/>\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n\n          <div className=\"chart-wrapper\">\n            <h2>Répartition par catégorie</h2>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <PieChart>\n                <Pie data={categoryData} dataKey=\"value\" nameKey=\"name\" outerRadius={80} fill=\"#8884d8\" label>\n                  {categoryData.map((entry,index)=> <Cell key={index} fill={COLORS[index%COLORS.length]}/> )}\n                </Pie>\n                <Tooltip/>\n              </PieChart>\n            </ResponsiveContainer>\n          </div>\n\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}